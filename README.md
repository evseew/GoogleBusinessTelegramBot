# Google Business Bot

Телеграм-бот для бизнес-аккаунта с векторной базой данных документов из Google Drive.

## Установка

1. Клонируйте репозиторий:
   ```
   git clone [URL_репозитория]
   cd GoogleBusinessBot
   ```

2. Создайте виртуальное окружение:
   ```
   python3 -m venv venv
   source venv/bin/activate  # или venv\Scripts\activate на Windows
   ```

3. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

4. Настройте файл .env:
   ```
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   OPENAI_API_KEY=ваш_ключ_openai
   ASSISTANT_ID=ваш_id_помощника
   GOOGLE_DRIVE_FOLDER_ID=id_папки_гугл_драйв
   ```

5. Поместите файл service-account-key.json в корневую директорию

## Управление ботом

- **Запуск бота**: `./start_bot.sh`
- **Остановка бота**: `./stop_bot.sh`
- **Обновление базы**: `./update_db.sh`

## Команды бота

- `/start` - начать диалог и обновить базу знаний
- `/clear` - очистить историю диалога
- `/update` - обновить базу знаний вручную
- `/check_db` - проверить наличие базы знаний

## Мониторинг

Логи бота находятся в папке `logs`:
- Основной лог: `logs/bot.log`
- Лог обновления базы: `logs/db_update.log`

## Требования

- Python 3.7+
- aiogram 3.x
- openai
- python-dotenv

## Настройка интеграции с Telegram Business

Для подключения бота к бизнес-аккаунту Telegram:

1. **Создайте бизнес-аккаунт в Telegram**:
   - Откройте настройки Telegram
   - Выберите "Telegram Premium" > "Telegram Business"
   - Следуйте инструкциям для создания бизнес-профиля

2. **Подключите бота вручную в настройках бизнес-аккаунта**:
   - В настройках бизнес-аккаунта выберите "Чат-бот"
   - Нажмите "Подключить бота" и выберите вашего бота

3. **Настройте дополнительные бизнес-функции в интерфейсе Telegram**:
-  - После подключения бота можно настроить бизнес-функции
-  - Отправьте боту команду `/business_hours` для настройки часов работы
-  - Отправьте боту команду `/business_greeting Текст` для настройки приветственного сообщения
+  - Все бизнес-настройки (часы работы, приветствия, ответы) выполняются через 
+    меню Telegram Business в настройках вашего аккаунта
+  - Бот автоматически поддерживает бизнес-режим без дополнительной настройки

- ## Бизнес-команды бота
- 
- - `/business_hours` - установить стандартные часы работы (Пн-Пт, 9:00-18:00)
- - `/business_greeting Текст` - установить приветственное сообщение для клиентов